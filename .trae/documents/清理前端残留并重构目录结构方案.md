## 目标

* 清理已删除的前端配置相关残留文件与引用，保证当前项目以后端为核心可独立运行

* 明确并简化目录结构，为后续需要时再引入前端配置预留位置

## 清理范围

* 删除：`f:\Industry_analysis\agent_analysis_project\前端界面与后端集成说明.md`

* 保留：后端代码、测试、数据、部署脚本与文档（与前端无关）

* 可选调整：移除或改为环境变量配置的前端域名白名单，位置 `agent_analysis_project/api_server.py:30-36`

## 现状核查摘要

* 未发现`package.json`、`vite*`、`webpack*`、`tsconfig*`、`node_modules`等前端工程文件，说明前端配置已基本移除

* `api_server.py`保留了 CORS 的 `allow_origins=["http://localhost:3000"]`（`agent_analysis_project/api_server.py:30-36`），与此前前端开发端口相关

* `docker-compose.yml`仅包含后端服务，未定义前端服务

* `docs/SHARING_GUIDE.md`为通用分享部署指南（包含可选 Nginx 说明），非前端工程配置文件

## 建议目录结构

* `agent_analysis_project/`

  * `src/` 后端核心代码

  * `config/` 项目配置（`agent.yaml`、`project.yaml`、`data_mapping.yaml`、`prompt.yaml`）

  * `data/` 数据目录

  * `output/` 分析输出目录

  * `logs/` 日志目录

  * `docs/` 文档（保留与后端相关的指南）

  * 根级文件：`main.py`、`api_server.py`、`requirements.txt`、`Dockerfile`、`docker-compose.yml`、`setup.py`、`README.md`

* 预留：未来需要前端时新增 `web/`（与后端完全解耦的前端工程目录）

* 处理顶层 `project_root/`：将其中 YAML 模板（`agent.yaml`、`project.yaml`、`project_structure.yaml`、`prompt.yaml`、`tools.yaml`）归档到 `agent_analysis_project/config/templates/` 以避免与当前生效配置混淆（如暂不需要可保留原地或归档）

## 具体变更清单

* 删除文件：`agent_analysis_project/前端界面与后端集成说明.md`

* CORS 配置调整（可选，若暂不对接前端）：

  * 方案 A：临时允许所有来源（开发便捷）

  * 方案 B：改为读取环境变量 `ALLOWED_ORIGINS`，默认空（更安全）

  * 变更位置：`agent_analysis_project/api_server.py:30-36`

* 归档 `project_root/` 中模板配置至 `agent_analysis_project/config/templates/`（避免重复与混淆）

## 验证步骤

* 运行后端：`python agent_analysis_project\main.py` 与 `python agent_analysis_project\api_server.py`

* 运行测试：`python agent_analysis_project\test_project.py`

* 容器构建：`docker-compose build && docker-compose up -d`

* 检查 CORS：若选择方案 B，设置 `.env` 中 `ALLOWED_ORIGINS`，验证跨域行为

## 后续引入前端时的约定

* 新建 `web/` 目录（如 `agent_analysis_project/web`）放置独立的前端工程

* 后端仅通过环境变量控制跨域与静态资源，不再内嵌前端构建产物

* 在 `docs/` 中新增一份“前后端对接约定”说明，待真正引入前端时再补充

