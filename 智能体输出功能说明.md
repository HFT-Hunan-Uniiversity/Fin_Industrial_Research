# 智能体输出功能使用说明

## 概述

本系统已添加了查看每个智能体输出内容和数据源信息的功能，可以帮助您了解：
1. 每个智能体使用的数据源和数据文件
2. 每个智能体生成的输出内容
3. 各智能体的主要输出字段

## 使用方法

### 方法一：通过命令行参数

在运行主程序时添加 `--show-agent-outputs` 参数：

```bash
python main.py --show-agent-outputs
```

### 方法二：使用测试脚本

运行专门的测试脚本：

```bash
python test_agent_outputs.py
```

## 智能体数据源确认

根据测试结果，各智能体使用的数据文件夹确认如下：

### 1. 宏观经济分析Agent (MacroAgent)
- **数据源**: 宏观数据文件夹
- **数据文件**:
  - GDP数据（2000-2023年）.csv
  - CPI数据（2000-2023年）.csv
  - PPI数据（2000-2023年）.csv
- **主要输出字段**:
  - macro_summary
  - macro_corr_matrix
  - key_insights
  - recommendations

### 2. 财务分析Agent (FinanceAgent)
- **数据源**: 财务数据文件夹
- **数据文件**:
  - 汽车A股上市公司行业概览（269家，2006-2022）.csv
  - 汽车A股上市公司财务摘要（269家，10个指标，2006-2022）.csv
  - 汽车A股上市公司盈利能力指标（269家，6个指标，2006-2022）.csv
  - 汽车A股上市公司研发投入（269家，9个指标，2006-2022）.csv
- **主要输出字段**:
  - finance_summary
  - key_metrics
  - company_comparison
  - investment_insights
  - rd_analysis
  - risk_factors

### 3. 市场分析Agent (MarketAgent)
- **数据源**: 市场数据文件夹
- **数据文件**:
  - 新能源汽车分厂商产销数据.csv
  - 充电设施数量.csv
  - 汽车分品牌产销数据.csv
- **主要输出字段**:
  - market_trend_summary
  - penetration_rate
  - manufacturer_analysis
  - brand_comparison
  - infrastructure_insights
  - market_forecast

### 4. 政策新闻Agent (PolicyNewsAgent)
- **数据源**: 在线新闻API
- **数据文件**: 无固定数据文件，通过API获取实时新闻
- **主要输出字段**:
  - news_summary
  - policy_impacts
  - industry_insights

### 5. 预测Agent (ForecastAgent)
- **数据源**: 综合数据
- **数据文件**: 基于其他Agent的分析结果
- **主要输出字段**:
  - market_forecast
  - growth_predictions
  - risk_assessment

### 6. 报告Agent (ReportAgent)
- **数据源**: 其他Agent的分析结果
- **数据文件**: 基于其他Agent的分析结果
- **主要输出字段**:
  - report_content
  - summary
  - recommendations

## 输出示例

当使用 `--show-agent-outputs` 参数时，系统会输出类似以下内容：

```
================================================================================
智能体输出内容和数据源信息
================================================================================

【MacroAgent】
数据源: 宏观数据文件夹
数据文件: GDP数据（2000-2023年）.csv, CPI数据（2000-2023年）.csv, PPI数据（2000-2023年）.csv

主要输出字段:
  - macro_summary
  - macro_corr_matrix
  - key_insights
  - recommendations

输出内容摘要:
  macro_summary: {
    "analysis": "宏观经济环境对新能源汽车行业的影响分析...",
    "key_trends": ["GDP增长与新能源汽车销量正相关", "..."],
    "impact_assessment": "..."
  }
------------------------------------------------------------
```

## 注意事项

1. 确保数据文件已正确放置在对应的文件夹中
2. 如果数据文件不存在，系统会显示警告信息
3. 输出内容可能会根据实际数据和分析结果有所不同
4. 使用 `--show-agent-outputs` 参数会增加输出内容的长度，建议在需要详细了解时使用